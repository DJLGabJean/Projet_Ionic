<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/recipe"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="recipe">{{ recipe.name }}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-button expand="block" (click)="saveIonRowsAsImages()">Enregistrer les recettes en photos</ion-button>
  <div>
    <ion-grid *ngIf="recipe">
      <!-- <ion-row>
        <ion-col>
          <ion-button color="danger" (click)="onDelete(recipe.id)">
            <ion-icon name="trash"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row> -->
      <ion-row>
          <img [src]="recipe.picturelink" [alt]="recipe.name">
        <ion-col>
          <ion-item>
            <ion-label>Nom de la recette</ion-label>
            <ion-text>{{ recipe.name }}</ion-text>
          </ion-item>
          <ion-item>
            <ion-label>Ingrédients nécessaires</ion-label>
            <ion-text>{{ recipe.ingredients }}</ion-text>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-text>Emplacements possibles sur la table de craft</ion-text>
        </ion-col>
      </ion-row>
      <div class="table_craft" (load)="ionViewDidEnter()">
        <ion-row *ngFor="let recipePosition of recipePositions">
          <ion-col size="4" *ngFor="let position of recipePosition">{{ position }}</ion-col>
        </ion-row>
      </div>
    </ion-grid>
  </div>
  <!-- *ngFor="let key of getExperienceKeys()" -->
  <!-- {{ key }} : {{ ingredient.experience[key] }} -->
  <!-- <div *ngIf="modif">
    <ion-item *ngIf="isFieldAuthorized('picturelink')">
      <ion-input type="text" label="URL de l'image" [(ngModel)]="recipe.picturelink"></ion-input>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('name')">
      <ion-input type="text" label="Nom de l'ingrédient" [(ngModel)]="recipe.name"></ion-input>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('type')">
      <ion-label>Type de l'ingrédient</ion-label>
      <ion-select placeholder="Sélectionner un type" [(ngModel)]="recipe.type">  
        <ion-select-option value="Bloc">Bloc</ion-select-option>  
        <ion-select-option value="Matière première">Matière première</ion-select-option>  
      </ion-select>  
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('tool')">
      <ion-input type="text" label="Outil Approprié" [(ngModel)]="recipe.tool"></ion-input>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('blastresistant')">
      <ion-input type="number" label="Résitance aux explosions" [(ngModel)]="recipe.blastresistant"></ion-input>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('hardness')">
      <ion-input type="number" label="Dureté" [(ngModel)]="recipe.hardness"></ion-input>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('flammable')">
      <ion-label>Inflammable</ion-label>
      <ion-toggle color="success" [(ngModel)]="recipe.flammable"></ion-toggle>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('transparent')">
      <ion-label>Transparent</ion-label>
      <ion-toggle color="success" [(ngModel)]="recipe.transparent"></ion-toggle>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('luminous')">
      <ion-label>Lumineux</ion-label>
      <ion-toggle color="success" [(ngModel)]="recipe.luminous"></ion-toggle>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('renewable')">
      <ion-label>Renouvelable</ion-label>
      <ion-toggle color="success" [(ngModel)]="recipe.renewable"></ion-toggle>
    </ion-item>
    <ion-item *ngIf="isFieldAuthorized('experience')">
      <ion-input type="number" label="Expérience" [(ngModel)]="recipe.experience"></ion-input>
    </ion-item>
    <ion-list *ngIf="isFieldAuthorized('variants')">
      <ion-list-header>
        <ion-label>Variants :</ion-label>
      </ion-list-header>
      <ion-item *ngFor="let variant of recipe.variants">
          <ion-label>{{ variant }}</ion-label>
          <ion-button fill="clear" slot="end" color="danger" (click)="removeVariant(variant)">
            <ion-icon name="remove-circle-outline"></ion-icon>
          </ion-button>
      </ion-item>
      <ion-item>
        <ion-label position="stacked">Ajouter un variant</ion-label>
        <ion-input type="text" [(ngModel)]="newVariant"></ion-input>
        <ion-button expand="block" (click)="addVariant()">Ajouter</ion-button>
      </ion-item>
    </ion-list>
    <p class="text-center">
      <ion-button (click)="onModif()">Modifier</ion-button>
    </p>
  </div> -->
</ion-content>
